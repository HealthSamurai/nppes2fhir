resourceType: Pracitioner
id: .npi
gender:
  $type: map
  map: {F: female, M: male}
  el: .provider_gender_code
name:
  - family: .provider_last_name_legal_name
    use: official
    given:
      - .provider_first_name
      - .provider_middle_name
    suffix:
      - .provider_name_suffix_text
    prefix:
      - .provider_name_prefix_text
      - .provider_credential_text
  - family: .provider_other_last_name
    given:
      - .provider_other_first_name
      - .provider_other_middle_name
    suffix:
      - .provider_other_name_suffix_text
    prefix:
      - .provider_other_name_prefix_text
      - .provider_other_credential_text
address:
  - use: "work"
    city: .provider_business_practice_location_address_city_name
    country: .provider_business_practice_location_address_country_code_if_out
    line:
      - .provider_first_line_business_practice_location_address
      - .provider_second_line_business_practice_location_address
    state: .provider_business_practice_location_address_state_name
    postalCode: .provider_business_practice_location_address_postal_code
telecom:
  - system: phone
    use: work
    value: .provider_business_practice_location_address_telephone_number
  - system: phone
    use: mailing
    value: .provider_business_mailing_address_telephone_number
  - system: fax
    use: work
    value: .provider_business_practice_location_address_fax_number
  - system: fax
    use: mailing
    value: .provider_business_mailing_address_fax_number
identifier:
  $type: each
  range: 50
  each:
   value: .other_provider_identifier_{i}
   state: .other_provider_identifier_state_{i}
   # issuer: .other_provider_identifier_issuer_{i}
   system:
    $type: map
    el: .other_provider_identifier_type_code_{i}
    map:
      '01': .other_provider_identifier_issuer_{i}
      '02': MEDICARE UPIN
      '04': MEDICARE ID-TYPE UNSPECIFIED
      '05': MEDICAID
      '06': MEDICARE OSCAR/CERTIFICATION
      '07': MEDICARE NSC
      '08': MEDICARE PIN
qualification:
  $type: each
  range: 15
  each:
    code:
      text:
        $type: map
        el: .healthcare_provider_taxonomy_code_{i}
        ref: nucc
      coding:
        - code: .healthcare_provider_taxonomy_code_{i}
          system: nucc
    identifier: 
      - value: .provider_license_number_{i}
        state: .provider_license_number_state_code_{i}
